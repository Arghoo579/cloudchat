<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"
	  href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <script src='/_ah/channel/jsapi'></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>  
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular-resource.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular-sanitize.js"></script>
    <script type="text/javascript" src="/js/controller.js"></script>
    <title>Cloudchat</title>
  </head>
  
  <body ng-app="app">
    <div class="container-fluid" ng-controller="MainPage">
      <ul class="nav nav-tabs" role="tablist">
	<li><a href="/">Home</a></li>
	<li><a href="/new">Your chats</a></li>
	<li><a href="/faq">FAQ</a></li>
      </ul>
      <div class="row">
	<h1 class="text-center">{{ title }}</h1>
	<div class="col-md-6 col-md-offset-3">
	  <form ng-submit="sendMessage()" class="form-inline" role="form">
	    <label>Nickname</label>
	    <input type="text" ng-model="author" required><br />
	    <label>Message</label>
	    <input type="text" ng-model="message" required>
	    <input type="submit" id="submit" value="Submit" /> Or press <kbd>â†µ</kbd>
	  </form>
	  <p>There are {{ connected }} connections.</p>
	  <div class="row well">
	    <div ng-repeat="message in messages">
	      <div class="col-md-12">
		<div class="col-md-2">
		  <div ng-if="conversations == true">
		    <button type="submit"
			    class="btn btn-primary"
			    ng-click="invite(message.id)"
			    data-toggle="tooltip"
			    data-placement="right"
			    title="Send private chat invitation to {{ message.author }}">
		      {{ message.author}}
		    </button>
		  </div>
		  <div ng-if="conversations == false">
		    <strong>
		      {{ message.author}}
		    </strong>
		  </div>
		</div>
		<div class="col-md-10">
		  {{ message.when }}:
		   <div ng-bind-html="message.text">
		     {{ message.text }}
		   </div>
		   <hr size="2" noshade>
		</div>
	      </div>
	    </div>
	  </div>
	</div>
      </div>
    </div>
  </body>
</html>
